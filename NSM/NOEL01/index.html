<!DOCTYPE html>
<!-- ---------------------------------------- -->
<!-- ... ESCAPE NOEL                      ... -->
<!-- ---------------------------------------- -->
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape game de Noël</title>
    <link rel="stylesheet" href="styles.css">
    <script src="scripts.js" defer></script>
	<script type="application/xml" id="histoireXML">
		<histoire>
			<scene id="1">
				<titre>Le Mystère de la Porte Enneigée</titre>
				<image>image/1.png</image>
				<description>Te voilà, en pleine forêt enneigée près du Pôle Nord, une brise glaciale caresse ton visage. Soudain, un son inhabituel attire ton attention : un bourdonnement provenant d'une grande porte en bois, ornée de motifs de flocons de neige. Intrigué, tu t'approches. Cette porte, solide et imposante, semble cacher un secret.</description>
				<description>Que vas-tu faire ?</description>
				<choix>
					<option vers="2" force="5">Essayer de défoncer la porte.</option>
					<option vers="3" dexterite="5">Examiner les environs pour trouver un indice. </option>
					<option vers="4" chance="5">Frapper à la porte.</option>
				</choix>
			</scene>
			
			
			<scene id="2">
				<titre>L'Impact Inattendu</titre>
				<image>image/2.png</image>
				<description>Tu regardes la porte, déterminé. Sans hésiter, tu prends de l'élan et fonces dessus de toutes tes forces. Cependant, au lieu de céder, la porte résiste étonnamment à ton assaut.</description>
				<description>Un bruit sec résonne et, soudain, un petit guichet s'ouvre sur la porte. Un lutin aux yeux grands ouverts te fixe, visiblement stupéfait. "Eh ! On frappe d'abord ici !" s'exclame-t-il. </description>
				<description>Tu te tiens là, un peu sonné, réalisant que cette porte ne s'ouvrira pas par la force brute.</description>
				<choix>
					<option vers="5">S'excuser auprès du lutin et lui demander poliment d'entrer</option>
					<option vers="6">Proposer d'aider le lutin en échange de l'entrée</option>
					<option vers="7">Observer la réaction du lutin pour deviner comment entrer.</option>
				</choix>
			</scene>
			
			
			
			<scene id="5">
				<titre>La Diplomatie Ouvre des Portes</titre>
				<image>image/5.png</image>
				<description>Tu te frottes le front, un peu sonné par l'impact, et décides d'adopter une approche plus diplomatique. Avec un sourire gêné, tu t'adresses au lutin :</description>
				<description> "Désolé pour ça, je ne voulais pas causer de problèmes. Pourrais-je entrer, s'il te plaît ?" </description>
				<description>Le lutin te regarde un moment, puis son expression change, passant de l'irritation à un sourire amusé. </description>
				<description>"Eh bien, c'est plus poli ! D'accord, entre, mais..." Il te lance un regard malicieux. "Tu vas devoir prouver que tu es digne de rentrer dans notre usine."</description>
				<choix>
					<option vers="8">Accepter un défi posé par le lutin.</option>
					<option vers="9">Proposer de montrer tes compétences en aidant immédiatement dans l'usine.</option>
				</choix>
			</scene>
			
			
			
			<scene id="8">
				<titre>La machine à jouets</titre>
				<image>image/8.png</image>
				<description>Le lutin te montre l'écran de contrôle de la machine à jouets. "Regarde, cette machine est censée inspecter les jouets et les trier en 'bons' ou 'défectueux'. Mais quelque chose ne va pas... Tous les jouets sont jetés comme s'ils étaient défectueux !" dit-il, l'air confus.</description>
				<description>Sur l'écran, tu vois l'algorithme suivant :</description>
				<description code="true">
Pour chaque jouet dans la chaîne de production
	Inspecter le jouet
	Si le jouet réussit l'inspection
		Marquer le jouet comme 'Défectueux'
	Sinon
		Marquer le jouet comme 'Bon'
		
	Si le jouet est marqué 'Défectueux'
		Envoyer le jouet à la poubelle
	Sinon
		Envoyer le jouet à l'emballage
				</description>
				<choix>
					<option vers="10" points="5" intelligence="5">Suggérer de changer le marquage des jouets qui passent l'inspection en 'Bon'.</option>
					<option vers="11">Proposer de vérifier le système d'inspection des jouets.</option>
					<option vers="12">Recommander de réviser la façon dont les jouets sont envoyés à l'emballage.</option>
				</choix>
			</scene>
			
			<scene id="10">
				<titre>La machine à jouets</titre>
				<image>image/8.png</image>
				<description>Après avoir examiné attentivement l'algorigramme, tu te rends compte que l'erreur se trouve dans la manière dont les jouets sont marqués après l'inspection. "Et si nous changions le marquage des jouets qui passent l'inspection en 'Bon' au lieu de 'Défectueux' ?" suggères-tu au lutin.</description>
				<description>Le lutin, d'abord perplexe, se met à sourire. "Brillant !" s'exclame-t-il en tapotant sur le clavier pour apporter la modification. L'écran scintille un instant, puis affiche un nouveau flux de l'algorigramme :</description>
				<description code="true">
Pour chaque jouet dans la chaîne de production
	Inspecter le jouet
	Si le jouet réussit l'inspection
		Marquer le jouet comme 'Bon'
	Sinon
		Marquer le jouet comme 'Défectueux'
		
	Si le jouet est marqué 'Défectueux'
		Envoyer le jouet à la poubelle
	Sinon
		Envoyer le jouet à l'emballage
				</description>
				<description>Aussitôt, la machine se met en branle. Les jouets qui passent l'inspection sont désormais correctement marqués comme 'Bon' et dirigés vers la section d'emballage, tandis que ceux qui sont défectueux sont envoyés à la poubelle.</description>
				<choix>
					<option vers="13">Célébrer le succès avec les lutins et explorer davantage l'usine.</option>

				</choix>
			</scene>
			
			<scene id="13">
				<titre>L'usine du père Noël</titre>
				<image>image/13.png</image>
				<description>Enthousiasmé par ta réussite avec l'algorithme, tu décides de pénétrer plus profondément dans l'usine. Les portes s'ouvrent sur un monde de merveilles technologiques. Autour de toi, des machines étincelantes fabriquent des jouets de toutes sortes, des lutins s'affairent joyeusement, et des lumières scintillantes illuminent l'espace.</description>
				<choix>
					<option vers="14">Aller parler à un lutin</option>
				</choix>
			</scene>
			
			
			<scene id="14">
				<titre>La Machine à Peindre</titre>
				<image>image/14.png</image>
				<description>Curieux, tu t'approches d'un lutin qui semble préoccupé. Il porte un tablier taché de peinture et regarde avec anxiété une grande machine émettant des bruits étranges. </description>
				<description>"C'est notre machine à peindre les jouets," explique-t-il. "Elle est censée appliquer la couleur parfaite sur chaque jouet, mais aujourd'hui, elle mélange toutes les couleurs de manière aléatoire ! Les ours en peluche deviennent verts, et les petites voitures sont multicolores !"</description>
				<description>Tu observes la machine. Des tuyaux de peinture se croisent et se mêlent dans un enchevêtrement complexe. Le lutin te regarde avec espoir.</description>
				<description>"Peux-tu nous aider à régler ce problème de mélange de couleurs ?"</description>
				<choix>
					<option vers="15">Analyser la machine</option>
				</choix>
			</scene>
			<scene id="15">
				<titre>La Machine à Peindre</titre>
				<image>image/14.png</image>
				<description>La machine à peindre utilise un système de mélange de couleurs basé sur les demandes spécifiques pour chaque jouet. L'algorithme actuel semble incomplet, et tu dois identifier et ajouter l'instruction manquante pour obtenir la couleur violette.</description>
				<description>Voici le programme de la machine:</description>
				<description code="true">
1. Initialiser 'couleurDemandée'
2. Choisir 'couleurDemandée' (rouge, bleu, jaune, vert, orange, violet)
3. Si 'couleurDemandée' est une couleur primaire (rouge, bleu, jaune)
4. 	Ajouter directement 'couleurDemandée'
5. Si 'couleurDemandée' est verte
6. 	Mélanger bleu et jaune
7.	Ajouter couleur
8. Si 'couleurDemandée' est orange
9.	Mélanger rouge et jaune
10.	Ajouter couleur
11. Si 'couleurDemandée' est violette
12.	Mélanger rouge et noir
13.	Ajouter couleur
				</description>
				<choix>
					<option vers="20">L'erreur se situe sur la ligne 2</option>
					<option vers="16">L'erreur se situe sur la ligne 6</option>
					<option vers="16">L'erreur se situe sur la ligne 9</option>
					<option vers="17" points="5">L'erreur se situe sur la ligne 12</option>
				</choix>
			</scene>

			<scene id="16">
				<titre>La Machine à Peindre</titre>
				<image>image/14.png</image>
				<description>Quel nouveau mélange allez-vous mettre ?</description>
				<choix>
					<option vers="18">Bleu et vert</option>
					<option vers="18">Rouge et Bleu</option>
					<option vers="18">Rouge et Blanc</option>
					<option vers="18">Vert et Bleu</option>
					<option vers="18">Jaune et Bleu</option>
				</choix>
			</scene>
			<scene id="17">
				<titre>La Machine à Peindre</titre>
				<image>image/14.png</image>
				<description>Quel nouveau mélange allez-vous mettre ?</description>
				<choix>
					<option vers="18">Bleu et vert</option>
					<option vers="19" points="5">Rouge et Bleu</option>
					<option vers="18">Rouge et Blanc</option>
					<option vers="18">Vert et Bleu</option>
					<option vers="18">Jaune et Bleu</option>
				</choix>
			</scene>
			<scene id="18">
				<titre>La Machine à Peindre</titre>
				<image>image/18.png</image>
				<description>Après avoir modifié l'algorithme, tu recules, espérant avoir résolu le problème. Cependant, à peine la machine redémarre-t-elle, qu'une série de bruits et de clignotements alarmants se font entendre. Des jets de peinture de toutes les couleurs fusent dans tous les sens, recouvrant l'atelier d'un arc-en-ciel chaotique.</description>
				<description>Les lutins crient et courent partout, essayant vainement de contrôler la situation. Soudain, la machine émet un grognement sinistre et s'arrête brusquement, laissant l'atelier dans un désordre coloré et des jouets peinturlurés.</description>
				<description>Au moment où tu te demandes ce que tu peux faire pour arranger les choses, un son de clochettes retentit. Le Père Noël en personne fait son entrée, les sourcils froncés sous sa toque rouge. Il observe le désastre, puis se tourne vers toi.</description>
				<description>"Je vois que nous avons un petit problème ici," dit-il d'une voix qui ne présage rien de bon. "Je crois que quelqu'un va recevoir du charbon cette année."</description>
				<description>Avant que tu ne puisses expliquer, il te tend un morceau de charbon. "Pour ton sapin," ajoute-t-il avec un clin d'œil. Les lutins se retiennent de rire alors que tu es gentiment mais fermement escorté hors de l'usine.</description>
				<choix>
					<option vers="1">Recommencer l'histoire</option>
				</choix>
			</scene>
			<scene id="19">
				<titre>La Machine à Peindre</titre>
				<image>image/19.png</image>
				<description>Après avoir corrigé l'algorithme, la machine à peindre redémarre et produit parfaitement la couleur violette. Le lutin, joyeux, te félicite tandis que les autres lutins célèbrent autour de la machine qui fonctionne désormais correctement, remplissant l'atelier d'une atmosphère de joie et de fierté.</description>
				<description>Au milieu de la célébration, un lutin te fait discrètement signe, un sourire malicieux aux lèvres, comme s'il avait une proposition ou un secret à partager.</description>
				<choix>
					<option vers="21">Aller voir le lutin</option>
				</choix>
			</scene>
			<scene id="20">
				<titre>La Machine à Peindre</titre>
				<image>image/14.png</image>
				<description>Par quoi allez-vous remplacer cette ligne ?</description>
				<choix>
					<option vers="18">Choisir 'couleurDemandée' (rouge, bleu, jaune, vert, orange, violet, noir)</option>
					<option vers="18">Choisir 'couleurDemandée' (rouge, bleu, jaune, vert, orange)</option>
					<option vers="18">Choisir 'couleurDemandée' (rouge, bleu, vert, orange, violet, noir)</option>
					<option vers="18">Choisir 'couleurDemandée' (orange, violet)</option>
					<option vers="18">Choisir 'couleurDemandée' (violet, noir)</option>
				</choix>
			</scene>
			<scene id="21">
				<titre>La proposition</titre>
				<image>image/19.png</image>
				<description>Intrigué par le geste du lutin, tu t'approches de lui. Il te regarde avec un sourire astucieux. "Tu sembles très doué," commence-t-il d'une voix doucereuse. "J'ai une mission spéciale, et je crois que tu es la personne idéale pour m'aider."</description>
				<description>Il se rapproche et baisse la voix. "Le Père Noël garde une collection de friandises délicieuses dans son bureau, mais il ne les partage avec personne. C'est injuste, tu ne trouves pas ? Imagine combien il serait amusant de goûter ces friandises... et tu as les compétences parfaites pour nous aider à les récupérer discrètement."</description>
				<description>Le lutin te regarde avec des yeux pétillants, essayant clairement de te convaincre. "Bien sûr, ce serait juste un petit coup espiègle. Rien de méchant, promis !" ajoute-t-il avec un clin d'œil.</description>
				<choix>
					<option vers="22">Accepter la proposition</option>
				</choix>
			</scene>
			<scene id="22">
				<titre>La proposition</titre>
				<image>image/19.png</image>
				<description>Intrigué par l'idée du lutin et un peu emporté par l'esprit de l'aventure, tu acquiesces. "D'accord, je vais t'aider," murmures-tu. Le lutin sautille de joie, ses yeux brillant d'excitation. "Parfait ! Tu trouveras le bureau du Père Noël au bout de ce couloir. Fais attention, c'est un endroit plein de surprises," te prévient-il avec un sourire malicieux.</description>
				<choix>
					<option vers="23">Allez vers le bureau du Père Noël</option>
				</choix>
			</scene>
		
			<scene id="23">
				<titre>Le bureau du Père noël</titre>
				<image>image/23.png</image>
				<description>La porte du bureau du Père Noël se dresse devant toi, imposante et mystérieuse. Tu sais que les friandises se trouvent à l'intérieur, mais comment y entrer ?</description>
				<choix>
					<option vers="24" echecForce="27">Essayer de défoncer la porte.</option>
					<option vers="25" echecChance="28">Frapper à la porte.</option>
					<option vers="26" echecIntelligence="29">Analyser la porte.</option>
				</choix>
			</scene>
			<scene id="24">
				<titre>Le bureau du Père noël</titre>
				<image>image/24.png</image>
				<description>Avec détermination, tu prends de l'élan et fonces de toutes tes forces contre la porte. Malheureusement, celle-ci ne bouge pas d'un pouce. Au contraire, l'impact te fait reculer, et tu te retrouves sur le sol, un peu étourdi.</description>
				<description>Soudain, un bruit de pas lourds se fait entendre. C'est le Père Noël en personne, l'air surpris et peu amusé de te trouver là, gisant devant sa porte. "Eh bien, qu'avons-nous ici ? Un visiteur un peu trop curieux ?", gronde-t-il avec une pointe d'humour dans la voix.</description>
				<description>Il t'aide à te relever et, tout en te raccompagnant à la sortie de l'atelier, il te donne une tape amicale dans le dos. "Peut-être que la prochaine fois, tu frapperas d'abord," dit-il en riant. "Mais pour aujourd'hui, je pense qu'il est temps pour toi de retourner d'où tu viens. Les aventures, c'est bien, mais avec un peu plus de subtilité, mon jeune ami !"</description>
				<description>Et c'est ainsi que ton aventure audacieuse se termine, non pas avec des friandises volées, mais avec une leçon mémorable sur l'importance de la subtilité et une anecdote amusante à raconter sur ta rencontre avec le Père Noël.</description>
				<choix>
					<option vers="1">Recommencer l'histoire</option>
				</choix>
			</scene>
			<scene id="27">
				<titre>Le bureau du Père noël</titre>
				<image>image/27.png</image>
				<description>Avec une détermination audacieuse, tu décides de forcer la porte. Tu prends de l'élan et te lances contre la porte avec toute ta force. Avec un bruit de tonnerre, la porte s'envole de ses gonds et s'écrase bruyamment à l'intérieur du bureau.</description>
				<description>Soudain, des alarmes retentissent, des lumières clignotent, et tu te retrouves face à face avec un renne mécanique de sécurité, qui semble tout sauf amusé. "Intrusion détectée. Préparation à l'emballage de l'intrus," annonce une voix robotique.</description>
				<description>Avant que tu ne puisses réagir, tu es enveloppé dans du papier cadeau, avec un grand nœud sur la tête. Le renne te transporte hors du bureau, te laissant là, emballé comme un cadeau, sous les yeux étonnés des lutins.</description>
				<choix>
					<option vers="1">Recommencer l'histoire</option>
				</choix>
			</scene>
			<!-- ... autres scènes ... -->
			
			
			<scene id="xxx">
				<titre>xxx</titre>
				<image>image/13.png</image>
				<description>xxxxx</description>
				<choix>
					<option vers="13">xxx lien standart xxx</option>
					<option vers="2" force="2">xxx lien avec modification d'attribut / ajout d'objet xxxx</option>
					<option vers="10" points="5">xxx lien avec modif du score</option>
					<option img="image/force.png" vers="13">xxx image cliquable xxx</option>
			</scene>
		</histoire>
	</script>

</head>
<body>
	<div class="header-bandeau">
	  <div class="score">Score: <span class="score-value">0</span></div>
	  <div class="title">Histoire de Noël</div>
	</div>

	<div class="scene-container">
		<div class="scene-image">
			<img src="" alt="Scène image">
		</div>

		<div class="scene-content">
			<!-- Bloc du score déplacé en haut -->
			
			<h1></h1> <!-- Titre de la scène -->

			<div class="descriptions">
				<!-- Les descriptions seront injectées ici -->
			</div>
			<div class="player-choices">
				<!-- Les boutons de choix seront injectés ici -->
			</div>
			<div class="scene-number"></div> <!-- Numéro de la scène -->
		</div>
	</div>
	<!-- Bandeau pour afficher les badges du joueur -->
	<div class="player-stats">
	  
	</div>
	v1.18
</body>
</html>
